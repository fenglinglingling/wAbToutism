<!doctype html>
<html lang="en">
<head>
<title>TourX - Tours and Travel HTML Template</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- wow css -->
    <link rel="stylesheet" href="../static/css/animate.css">
    <!-- magnific popup -->
    <link rel="stylesheet" href="../static/css/magnific-popup.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <!-- Boxicons CSS -->
    <link rel="stylesheet" href="../static/css/boxicons.min.css">
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="../static/css/flaticon.css">
    <!-- Owl Carousel CSS -->
    <link rel="stylesheet" href="../static/css/owl.carousel.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/responsive.css">

</head>
<body>

    <!-- ===============  breadcrumb area start =============== -->
    <div class="breadcrumb-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="breadcrumb-wrap">
                        <h2>同城群聊</h2>
                        <ul class="breadcrumb-links">
                            <li>
                                <a href="index.html">旅游引导</a>
                                <i class="bx bx-chevron-right"></i>
                            </li>
                            <li>同城群聊</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ===============  breadcrumb area end =============== -->
    
    <!-- ===============  Blog wrapper area start =============== -->
    <div class="blog-sidebar-wrapper pt-90">
        <div class="container">
           <div class="row">
            <div class="col-lg-8">
                <div class="row" id="selectAllGroups">

                </div>
                <div class="row">
                    <div class="col-lg-12">
                     <div class="pagination mt-40">
                         <a href="#"><i class="bx bx-chevron-left"></i></a>
                         <a href="#" class="active">1</a>
                         <a href="#">2</a>
                         <a href="#">3</a>
                         <a href="#">4</a>
                         <a href="#"><i class="bx bx-chevron-right"></i></a>
                     </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="blog-sidebar mt-30">
                    <div class="sidebar-searchbox">
                        <div class="input-group search-box">
                            <input type="text" class="form-control idtext" placeholder="搜索群聊(请输入群聊id)" aria-label="Recipient's username" aria-describedby="button-addon2">
                            <button class="btn btn-outline-secondary group_selectById" type="button" id="button-addon2"><i class='bx bx-paper-plane'></i></button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-6">
                            <div class="blog-tag mt-40">
                                <h5 class="categorie-head">标签</h5>
                                <ul>
                                    <li><a href="#">摄影</a></li>
                                    <li><a href="#">爬山</a></li>
                                    <li><a href="#">探险</a></li>
                                    <li><a href="#">美食</a></li>
                                    <li><a href="#">自驾</a></li>
                                    <li><a href="#">Tourist</a></li>
                                    <li><a href="#">Tourist</a></li>
                                    <li><a href="#">Selivia</a></li>
                                    <li><a href="#">Tour Guide</a></li>
                                    <li><a href="#">Cultural</a></li>
                                    <li><a href="#">Natural</a></li>
                                    <li><a href="#">Journey</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-6">
                            <div class="blog-popular mt-40">
                                <h5 class="categorie-head">热门群聊</h5>

                                <ul>
                                    <li class="blog-card-sm">
                                        <div class="blog-img-sm">
                                            <img src="../static/picture/b-sm1.png" alt="">
                                        </div>
                                        <div class="blog-details-sm">
                                            <a href="blog-details.html" class="blog-title-sm">Lake Garda</a>
                                            <div class="blog-info">
                                                <a class="blog-writer" href="#">
                                                    <i class="flaticon-user"></i>
                                                    Dina Jems
                                                </a>
                                                <a href="#" class="blog-date"> <i class="flaticon-calendar"></i>  10 April, 2021</a>

                                            </div>
                                        </div>
                                    </li>
                                    <li class="blog-card-sm">
                                        <div class="blog-img-sm">
                                            <img src="../static/picture/b-sm2.png" alt="">
                                        </div>
                                        <div class="blog-details-sm">
                                            <a href="blog-details.html" class="blog-title-sm">Parish Hill</a>
                                            <div class="blog-info">
                                                <a class="blog-writer" href="#">
                                                    <i class="flaticon-user"></i>
                                                    Dina Jems
                                                </a>
                                                <a href="#" class="blog-date"> <i class="flaticon-calendar"></i>  10 April, 2021</a>

                                            </div>
                                        </div>
                                    </li>
                                    <li class="blog-card-sm">
                                        <div class="blog-img-sm">
                                            <img src="../static/picture/b-sm3.png" alt="">
                                        </div>
                                        <div class="blog-details-sm">
                                            <a href="blog-details.html" class="blog-title-sm">Mount Dtna</a>
                                            <div class="blog-info">
                                                <a class="blog-writer" href="#">
                                                    <i class="flaticon-user"></i>
                                                    Dina Jems
                                                </a>
                                                <a href="#" class="blog-date"> <i class="flaticon-calendar"></i>  10 April, 2021</a>

                                            </div>
                                        </div>
                                    </li>
                                    <li class="blog-card-sm">
                                        <div class="blog-img-sm">
                                            <img src="../static/picture/b-sm4.png" alt="">
                                        </div>
                                        <div class="blog-details-sm">
                                            <a href="blog-details.html" class="blog-title-sm">Lake Geneva</a>
                                            <div class="blog-info">
                                                <a class="blog-writer" href="#">
                                                    <i class="flaticon-user"></i>
                                                    Dina Jems
                                                </a>
                                                <a href="#" class="blog-date"> <i class="flaticon-calendar"></i>  10 April, 2021</a>

                                            </div>
                                        </div>
                                    </li>
                                    <li class="blog-card-sm">
                                        <div class="blog-img-sm">
                                            <img src="../static/picture/b-sm5.png" alt="">
                                        </div>
                                        <div class="blog-details-sm">
                                            <a href="blog-details.html" class="blog-title-sm">Franch Rivira</a>
                                            <div class="blog-info">
                                                <a class="blog-writer" href="#">
                                                    <i class="flaticon-user"></i>
                                                    Dina Jems
                                                </a>
                                                <a href="#" class="blog-date"> <i class="flaticon-calendar"></i>  10 April, 2021</a>

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-6">
                            <div class="sidebar-banner mt-40">
                                <img src="../static/picture/sidebar-banner.png" alt="" class="img-fluid">
                                <div class="sidebar-banner-overlay">
                                    <div class="sidebar-content">
                                        <h3>在这里寻找一同旅行的好伙伴吧！</h3>
                                        <div class="sidebar-banner-btn">
                                            <a href="#">Book Now</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
           </div>
        </div>
    </div>

    <!-- ==============  Footer area start================= -->
    <div class="footer-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-12">
                    <div class="footer-info">
                        <div class="footer-logo">
                            <img src="../static/picture/logo-2.png" alt="" class="img-fluid">
                        </div>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquid maxime aut ut voluptate
                            dolorum nisi ducimus ratione</p>
                        <div class="footer-social-icons">
                            <h5>Follow Us:</h5>
                            <ul>
                                <li><a href="#"><i class='bx bxl-facebook'></i></a></li>
                                <li><a href="#"><i class='bx bxl-instagram'></i></a></li>
                                <li><a href="#"><i class='bx bxl-twitter'></i></a></li>
                                <li><a href="#"><i class='bx bxl-dribbble'></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 col-md-12">
                    <div class="row">
                        <div class="col-lg-5 col-md-5 col-sm-7">
                            <div class="footer-links">
                                <h5 class="widget-title">Contact us</h5>
                              
                                <div class="contact-box">
                                    <span><i class="bx bx-phone"></i></span>
                                    <div>
                                        <a href="tel:+01852-1265122">+01852-1265122</a>
                                        <a href="tel:+01852-1265122">+01852-1265122</a>
                                    </div>
                                </div>
                                <div class="contact-box">
                                    <span><i class="bx bx-mail-send"></i></span>
                                    <div>
                                        <a href="javascript:;"><span class="__cf_email__" data-cfemail="ef86818980af8a978e829f838ac18c8082">[email&#160;protected]</span></a>
                                        <a href="javascript:;"><span class="__cf_email__" data-cfemail="eb989e9b9b84999fab8e938a869b878ec5888486">[email&#160;protected]</span></a>
                                    </div>
                                </div>
                                <div class="contact-box">
                                    <span><i class="bx bx-location-plus"></i></span>
                                    <div>
                                        <a href="#">2752 Willison Street <br>
                                            Eagan, United State</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-5">
                            <div class="footer-links">
                                <h5 class="widget-title">support</h5>
                                <div class="category-list">
                                    <ul>
                                        <li><a href="contact.html">Contact us</a></li>
                                        <li><a href="about.html">About us</a></li>
                                        <li><a href="#">Services</a></li>
                                        <li><a href="blog.html">our Blogs</a></li>
                                        <li><a href="#">terms and conditions</a></li>
                                    </ul>
                                 </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="footer-links payment-links">
                                <h5 class="widget-title">We Accepts:</h5>
                                <div class="payment-cards">
                                    <img src="../static/picture/payment-card-2.png" alt="" class="img-fluid">
                                    <img src="../static/picture/payment-card-1.png" alt="" class="img-fluid">
                                    <img src="../static/picture/payment-card-3.png" alt="" class="img-fluid">
                                    <img src="../static/picture/payment-card-4.png" alt="" class="img-fluid">
                                    <img src="../static/picture/payment-card-5.png" alt="" class="img-fluid">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
               <div class="col-lg-12">
                <div class="copyrigth-area">
                    <p>Copyright &copy; 2021.Company name All rights reserved.<a target="_blank" href="http://www.cssmoban.com/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a></p>
                </div>
               </div>
            </div>
            
        </div>
    </div>
    <!-- ==============  Footer area end================= -->



    <!--Javascript -->
    <script src="../static/js/jquery-3.6.0.min.js"></script>
    <script src="../static/js/owl.carousel.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery-ui.min.js"></script>
    <script src="../static/js/popper.min.js"></script>
    <script src="../static/js/jquery.magnific-popup.min.js"></script>
    <script src="../static/js/wow.min.js"></script>
     <script src="../static/js/typed.js"></script>
    <!-- Custom JavaScript -->
    <script src="../static/js/main.js"></script>
    <script src="../static/js/wow.min.js"></script>

    <script>
        //查询全部的群聊
        $(function () {
            $.ajax({
                url:"selectAllGroups",
                method:"get",
                dataType:"json",
                success(e){
                    console.log(e)
					    // 动态添加
                    for (let i = 0; i < e.groups.length; i++) {
                        //根据用户id查询他的名字
                        $.ajax({
                            url:"selectUserById?id="+e.groups[i].userId,
                            method:"get",
                            dataType:"json",
                            success(s){
                                // console.log(s)
                                $("#selectAllGroups").append(`
						<div class="col-lg-6 col-md-6 col-sm-6">
						    <div class="blog-card">
						        <div class="blog-img">
						            <img src="../static/picture/b-1.png" alt="" class="img-fluid">
						            <div class="blog-date"><i class="flaticon-calendar">`+e.groups[i].groupId+`</i></div>
						        </div>
						        <div class="blog-details">
						            <div class="blog-info">
						                <a class="blog-writer" href="#"><i class="flaticon-user"></i>`+s.abUser.userName+`</a>
						                <a class="blog-comment" href="#"><i class="flaticon-comment"></i><span>(3)</span>Comment</a>
						            </div>
						            <a href="blog-details.html" class="blog-title">`+e.groups[i].groupName+`</a>
						            <div class="blog-btn">
						                <a href="luyouyindao_group?id=`+e.groups[i].groupId+`" class="btn-common-sm">加入群聊</a>
						            </div>
						        </div>
						    </div>
						</div>
					`)
                            }
                        });
                    }
                },
                error(){
                    alter("请求失败！")
                }
            })
        })


        $(".group_selectById").on('click',function () {
            $("#selectAllGroups").html("")
            //获取输入框的内容
            let id = $('.idtext').val()
            if (id.length > 0){
                $.ajax({
                    url: "selectGroupById",
                    method: "get",
                    dataType: "json",
                    data:{"id":id},
                    success(e) {
                        console.log(e.group)
                        $.ajax({
                            url: "selectUserById?id=" + e.group.userId,
                            method: "get",
                            dataType: "json",
                            success(s) {
                                //加载查询数据
                                $("#selectAllGroups").append(`
						<div class="col-lg-6 col-md-6 col-sm-6">
						    <div class="blog-card">
						        <div class="blog-img">
						            <img src="../static/picture/b-1.png" alt="" class="img-fluid">
						            <div class="blog-date"><i class="flaticon-calendar">`+e.group.groupId+`</i></div>
						        </div>
						        <div class="blog-details">
						            <div class="blog-info">
						                <a class="blog-writer" href="#"><i class="flaticon-user"></i>`+s.abUser.userName+`</a>
						                <a class="blog-comment" href="#"><i class="flaticon-comment"></i><span>(3)</span>Comment</a>
						            </div>
						            <a href="blog-details.html" class="blog-title">`+e.group.groupName+`</a>
						            <div class="blog-btn">
						                <a href="#" class="btn-common-sm">加入群聊</a>
						            </div>
						        </div>
						    </div>
						</div>
					`)
                            }
                        })
                    },
                    error(){
                        alter("请求失败！")
                    }
                })
            }
        })



    </script>
</body>
</html>