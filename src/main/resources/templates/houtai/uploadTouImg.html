<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>上传头像</title>
  <link rel="stylesheet" href="../../static/layui/css/layui3.css">
</head>
<body>
<div style="width: 100%;height: 200px;margin: 0 auto;">
  <div id="imageShow" class="icon" style="margin-top: 50px;">
    <div class="icon-img" style="margin-left: 125px;">
      <img src="../../static/image/img6.png" id="uploadImg" style="background-repeat: no-repeat"/>
    </div>
  </div>
  <input type="file" id="uploadFile1"  name="uploadFile" style="display: none">
  <div class="layui-btn-container" style="margin-top: 30px;margin-left: 145px;">
    <button id="upImg" type="button" class="layui-btn">更换头像</button>
  </div>
</div>


<script src="../../static/layui/layui.js"></script>
<script src="../../static/layui/js/jquery-3.2.1.min.js"></script>
<script>
  $("#upImg").click(function () {
    $("#uploadFile1").click();
  });


  $("#uploadFile1").change(function (){
    var formData=new FormData();
    formData.append('uploadFile',$("#uploadFile1")[0].files[0]);
    $.ajax({
      url:"exchangeImgFile",
      type:"post",
      dataType:"json",
      processData: false,
      contentType : false,
      data:formData,
      success:function (res) {
        // alert(res.code);http://localhost:8080/static/image/banner-1.png
        alert("/static/image/"+res.data)
        $("#uploadImg").attr("src","/static/image/"+res.data);
      }
    })
  });
</script>
</body>
</html>